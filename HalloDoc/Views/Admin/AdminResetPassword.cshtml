@model Services.ViewModels.LoginPerson;
<div class="bg-image">
    <img src="~/images/11116016_415.jpg" class="bg" width="50%">
</div>

<div class="mode">
    <button id="darkbtn" class="border border-0 rounded-2 p-1">
        <img src="~/images/moon_light.png" alt="picture" id="darkimg" height="30px" width="30px">
    </button>
</div>

<div class="maindiv container-fluid d-flex align-items-center">

    <div class="subdiv d-flex flex-column">

        <div class="d-flex justify-content-center">
            <img src="~/images/1hallodoc.png" alt="picture" class="mt-3 mainpic">
        </div>

        <div style="d-flex justify-content-center">
            <div class="backbtn text-info mt-5">
                <span>&lt;back</span>
            </div>

            <div class="h3 mt-3 mb-5 d-flex justify-content-center">Reset Your password</div>

            <form asp-action="AdminResetPasswordEmail" asp-controller="Admin">

                <div class="form-floating  fields">
                    <input type="email" class="form-control" id="email" placeholder="name@example.com" asp-for="email">
                    <label for="email">Email</label>
                    <i class="bi bi-person-circle login-icon"></i>
                    <spam id="emailError" class="text-danger"></spam>
                </div>

                <button type="button" class="btn btn-primary fields bg-info rounded-2 border border-0 mt-3 d-flex justify-content-center" id="submitBtn">
                    Reset
                    Password
                </button><br>

            </form>
            <div class=" d-flex justify-content-center">
                <a asp-controller="Admin" asp-action="AdminLogin" class="link text-info text-decoration-none">
                    &lt;Back to login
                </a>
            </div>
        </div>

    </div>
</div>

<div class="d-flex justify-content-center">
    <div class="terms bg-body-tertiary p-1 border rounded-2 d-flex justify-content-between position-fixed bottom-0 mb-3">
        <a href="#" class="text-decoration-none text-secondary">Terms Of Conditions</a>
        <span class="mx-1">|</span>
        <a href="#" class="text-decoration-none text-secondary">Privacy Policy</a>
    </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>

    $('#submitBtn').on('click', function () {

        var Email = $('#email').val();
       
        $.ajax({
            url: '/Admin/EmailValidate',
            data: { "Email": Email },
            //async: false,
            success: function (response) {
                if (response) {
                    document.getElementById('submitBtn').type = "submit";
                    $('#submitBtn').click();
                } else {
                    $('#emailError').html("*Email not found");
                }
            },
            error: function (error) {
                console.error(error);
            }
        })
    });

    $('#email').on('focus', function () {
        $('#emailError').html("");
    })
</script>
